<h4>የአባላት መረጃ </h4>
<mat-dialog-content>
    <form action="" class="inset" style="margin: 10px;">
        <br>
        <div class="col-sm-12">
            <p>
                <small>የግል መረጃ ዝርዝር</small>
            </p>
            <mat-accordion>
                <mat-expansion-panel [expanded]="panel1"
                                     (opened)="panel1_status(true)"
                                     (closed)="panel1_status(false)">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            የአባላት የግል መረጃ
                        </mat-panel-title>
                        <mat-panel-description>
                            የግል መረጃ ለማከል እዚህ ጠቅ ያድርጉ
                        </mat-panel-description>
                    </mat-expansion-panel-header>
                    <div class="row">

                        <div class="col-sm-3">
                            <mat-card>
                                <div [hidden]="!photo_taken">
                                <canvas  #canvas id="canvas" width="180" height="180" class="form-group"></canvas>
                                </div>
                                <div id="app">
                                    <div [hidden]="photo_taken">
                                        <video #video id="video" width="180" height="180" autoplay></video>
                                    </div>
                                    <div>
                                        <button id="snap" mat-raised-button (click)="capture()">ፎቶ አንሳ</button>
                                        <button id="cancel" mat-raised-button (click)="photo_taken=!photo_taken">ይቅር </button>
                                    </div>
                                    <div class="form-label-group">
                                        <label>ምስል አያይዝ</label>
                                        <input class="form-control" placeholder="enter group name" type="file" name="selected_file" id="selected_file_id_2" (change)="fileUploadEvent($event)">
                                    </div>
                                </div>
                            </mat-card>
                            <br>
                            <br>
                        </div>


                        <div class="col-sm-2">
                            <mat-form-field>
                                <input matInput placeholder="ሙሉ ስም" name="full_name"
                                       [(ngModel)]="new_member.full_name" required>
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput [readonly]="!editable" [matDatepicker]="picker2" placeholder="የየትውልድ ዘመን" name="birth_day"
                                       [(ngModel)]="new_member.birth_day" >
                                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                <mat-datepicker #picker2></mat-datepicker>
                            </mat-form-field>

                            <mat-form-field>
                                <input matInput placeholder="የልደት ቦታ" name="birth_place"
                                       [(ngModel)]="new_member.birth_place">
                            </mat-form-field>

                            <mat-form-field>
                                <mat-select placeholder="ፆታ" name="gender" [(ngModel)]="new_member.gender" required>
                                    <mat-option value="ወንድ">ወንድ</mat-option>
                                    <mat-option value="ሴት">ሴት</mat-option>
                                </mat-select>
                            </mat-form-field>

                        </div>
                        <div class="col-sm-2">
                            <mat-form-field>
                                <input matInput placeholder="ኢሜይል" name="email" [(ngModel)]="new_member.email" pattern="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?">
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="ስልክ ቁጥር" name="phone_cell"
                                       [(ngModel)]="new_member.phone_cell" required pattern='^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$'>
                            </mat-form-field>
                        </div>

                        <div class="col-sm-2">
                            <mat-form-field>
                                <mat-select placeholder="ዜግነት" name="nationality" [(ngModel)]="new_member.nationality" >
                                    <mat-option *ngFor="let list of countries.list" value="{{list.nationality}}">{{list.nationality}}</mat-option>
                                </mat-select>
                            </mat-form-field>

                            <mat-form-field>
                                <input matInput placeholder="ከተማ" name="city" [(ngModel)]="new_member.city" required>
                            </mat-form-field>

                            <mat-form-field>
                                <mat-select placeholder="የጋብቻ ሁኔታ"  name="marital_status" [(ngModel)]="new_member.marital_status">
                                    <mat-option value="ያገባ">ያገባ</mat-option>
                                    <mat-option value="ያላገባ">ያላገባ</mat-option>
                                    <mat-option value="የተፈታ">የተፋታ</mat-option>
                                    <mat-option value="ባሏ/ሚስት የሞተ">ባሏ/ሚስት የሞተ</mat-option>
                                </mat-select>
                            </mat-form-field>

                        </div>
                        <div class="col-sm-3">
                            <mat-form-field>
                                <input matInput placeholder="የስራ መስክ" name="occupation"
                                       [(ngModel)]="new_member.occupation">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-select placeholder="የትምህርት ደረጃ"  name="education_level" [(ngModel)]="new_member.education_level">
                                    <mat-option value="elementary">የመጀመሪያ ደረጃ</mat-option>
                                    <mat-option value="secondary">ሁለተኛ ደረጃ</mat-option>
                                    <mat-option value="diploma"> ዲፕሎማ</mat-option>
                                    <mat-option value="degree"> የመጀመሪያ ዲግሪ</mat-option>
                                    <mat-option value="masters"> ሁለተኛ ዲግሪ</mat-option>
                                    <mat-option value="phd">ሶስተኛ ዲግሪ</mat-option>
                                    <mat-option value="other">ሌላ</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                            <mat-form-field>
                                <input matInput placeholder="አድራሻ" name="address" [(ngModel)]="new_member.address">
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="ከተማ" name="city" [(ngModel)]="new_member.city">
                            </mat-form-field>

                            <mat-form-field>
                                <input matInput placeholder="ክፍለ-ከተማ" name="subcity" [(ngModel)]="new_member.sub_city" >
                            </mat-form-field>

                            <mat-form-field>
                                <input matInput placeholder="ወረዳ" name="wereda" [(ngModel)]="new_member.wereda" >
                            </mat-form-field>

                            <mat-form-field>
                                <input matInput placeholder="የቤት ቁጥር" name="house_number" [(ngModel)]="new_member.house_number">
                            </mat-form-field>

                            <mat-form-field>
                                <mat-select placeholder="የመኖሪያ ሁኔታ"  name="living_status" [(ngModel)]="new_member.living_status">
                                    <mat-option value="የግል">የግል መኖሪያ</mat-option>
                                    <mat-option value="ተከራይ">ተከራይ</mat-option>
                                    <mat-option value="ሌላ"> ሌላ</mat-option>
                                </mat-select>
                            </mat-form-field>

                            <mat-form-field *ngIf="new_member.living_status == 'ሌላ' ">
                                <input matInput placeholder="የመኖሪያ ሁኔታ ሌላ" name="living_status_other" [(ngModel)]="new_member.living_status_other">
                            </mat-form-field>


                        </div>

                        <div class="col-sm-3">
                            <mat-form-field>
                                <input matInput [readonly]="!editable"  [matDatepicker]="picker4" placeholder="የመዳን ቀን"
                                       name="salvation_date" [(ngModel)]="new_member.salvation_date">
                                <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
                                <mat-datepicker #picker4></mat-datepicker>
                            </mat-form-field>

                            <mat-form-field>
                                <input matInput placeholder="የዳኑበት ቦታ" name="salvation_date"
                                       [(ngModel)]="new_member.salvation_church">
                            </mat-form-field>

                            <mat-radio-group name="spouse_is_baptized" [(ngModel)]="new_member.is_baptized">
                                <p class="d-inline"><small>በውሃ ጥምቀት ተጠምቀዋል?</small></p>&nbsp;
                                <mat-radio-button value="አዎ">አዎ</mat-radio-button>&nbsp;
                                <mat-radio-button value="አይ">አይ</mat-radio-button>
                            </mat-radio-group>

                            <mat-form-field *ngIf="new_member.is_baptized == 'አዎ'">
                                <input matInput [readonly]="!editable"  [matDatepicker]="picker6" placeholder="የጥምቀት ቀን"
                                       name="baptized_date" [(ngModel)]="new_member.baptized_date">
                                <mat-datepicker-toggle matSuffix [for]="picker6"></mat-datepicker-toggle>
                                <mat-datepicker #picker6></mat-datepicker>
                            </mat-form-field>

                            <mat-form-field>
                                <input matInput placeholder="የተጠመቁበት ቤተክርስቲያን" name="baptized_church" [(ngModel)]="new_member.baptized_church">
                            </mat-form-field>

                            <mat-form-field>
                                <mat-select placeholder="የቤተክርስቲያን ሴል ቡድን"  name="church_cell" [(ngModel)]="new_member.church_group_place">
                                    <mat-option value="wereda_1"> ወረዳ 1 እና 9</mat-option>
                                    <mat-option value="wereda_10"> ወረዳ 10</mat-option>
                                    <mat-option value="wereda_11"> ወረዳ11</mat-option>
                                    <mat-option value="special_wereda"> ልዩ ዞን</mat-option>
                                </mat-select>

                            </mat-form-field>

                            <mat-radio-group name="spouse_have_family_fellowship" [(ngModel)]="new_member.have_family_fellowship">
                                <p class="d-inline"><small>በቤተሰብ ህብረት ተይዘዋል?</small></p>&nbsp;
                                <mat-radio-button value="1">አዎ</mat-radio-button>&nbsp;
                                <mat-radio-button value="0">አይ</mat-radio-button>
                            </mat-radio-group>

                        </div>

                        <div class="col-sm-3">
                            <mat-form-field>
                                <input matInput placeholder="የአደጋ ጊዜ ተጠሪ ስም" name="address" [(ngModel)]="new_member.emergency_contact_name">
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="የአደጋ ጊዜ ተጠሪ ስልክ" name="emergency_contact_phone"
                                       [(ngModel)]="new_member.emergency_contact_phone" required pattern='^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$'>

                            </mat-form-field>

                            <mat-form-field>
                                <input matInput placeholder="የአደጋ ጊዜ ተጠሪ ክ/ከተማ" name="subcity" [(ngModel)]="new_member.emergency_contact_subcity">
                            </mat-form-field>

                            <mat-form-field>
                                <input matInput placeholder="የአደጋ ጊዜ ተጠሪ የቤት ቁጥር" name="wereda" [(ngModel)]="new_member.emergency_contact_house_no">
                            </mat-form-field>
                        </div>

                    </div>

                    <div class="form-label-group">
                        <br>
                        <button mat-raised-button type="button" (click)="addNewMember();"
                                class="btn btn-primary pull-right">መረጃ ያስቀምጡ
                        </button>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
        <div class="col-sm-12">
            <p>
                <small>የትዳር ጓደኛ መረጃ ዝርዝር</small>
            </p>
            <mat-accordion>
                <mat-expansion-panel
                        [expanded]="panel2"
                        (opened)="panel2_status(true)"
                        (closed)="panel2_status(false)">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            የአባላት የትዳር ጓደኛ መረጃ
                        </mat-panel-title>
                        <mat-panel-description>
                            የትዳር ጓደኛን መረጃ ለመጨመር እዚህ ጠቅ ያድርጉ
                        </mat-panel-description>
                    </mat-expansion-panel-header>
                    <div class="row">
                        <div class="col-sm-12">
                            <p>
                                <small>የትዳር ጓደኛ መረጃ ዝርዝር</small>
                            </p>
                        </div>
                        <div class="col-sm-3">
                            <mat-form-field>
                                <input matInput placeholder="ሙሉ ስም" name="spouse_full_name"
                                       [(ngModel)]="new_member_spouse_info.full_name" required>
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput [readonly]="!editable" [matDatepicker]="picker" placeholder="የትውልድ ዘመን" name="spouse_birth_day"
                                       [(ngModel)]="new_member_spouse_info.birth_day">
                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker #picker></mat-datepicker>
                            </mat-form-field>

                            <mat-form-field>
                                <mat-select placeholder="ፆታ"  name="spouse_gender" [(ngModel)]="new_member_spouse_info.gender">
                                    <mat-option value="ወንድ">ወንድ</mat-option>
                                    <mat-option value="ሴት">ሴት</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>

                        <div class="col-sm-3">
                            <mat-form-field>
                                <input matInput placeholder="ኢሜይል" name="spouse_email"
                                       [(ngModel)]="new_member_spouse_info.email" pattern="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"/>
                            </mat-form-field>

                            <mat-form-field>
                                <input matInput placeholder="ስልክ ቁጥር" name="spouse_phone_cell"
                                       [(ngModel)]="new_member_spouse_info.phone_cell" pattern='^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$'/>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-3">

                            <mat-form-field>
                                <mat-select placeholder="ዜግነት" name="spouse_nationality" [(ngModel)]="new_member_spouse_info.nationality" >
                                    <mat-option *ngFor="let list of countries.list" value="{{list.nationality}}">{{list.nationality}}</mat-option>
                                </mat-select>
                            </mat-form-field>

                            <mat-form-field>
                                <input matInput placeholder="ከተማ" name="spouse_city"
                                       [(ngModel)]="new_member_spouse_info.city">
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="አድራሻ" name="spouse_address"
                                       [(ngModel)]="new_member_spouse_info.address" required>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                            <mat-form-field>
                                <input matInput placeholder="ስራ መስክ" name="spouse_occupation"
                                       [(ngModel)]="new_member_spouse_info.occupation">
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="የስራ ሃላፊነት" name="spouse_employment_position"
                                       [(ngModel)]="new_member_spouse_info.employment_position">
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="የስራ ቦታ" name="spouse_employment_place"
                                       [(ngModel)]="new_member_spouse_info.employment_place">
                            </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                            <mat-form-field>
                                <input matInput [readonly]="!editable" [matDatepicker]="picker5" placeholder="የድነት ቀን"
                                       name="spouse_salvation_date" [(ngModel)]="new_member_spouse_info.salvation_date">
                                <mat-datepicker-toggle matSuffix [for]="picker5"></mat-datepicker-toggle>
                                <mat-datepicker #picker5></mat-datepicker>
                            </mat-form-field>

                        </div>
                        <div class="col-sm-6">
                            <br>
                            <mat-radio-group name="spouse_is_baptized" [(ngModel)]="new_member_spouse_info.is_baptized">
                                <p class="d-inline">በውሃ ጥምቀት ተጠምቀዋል?</p>&nbsp;
                                <mat-radio-button value="አዎ">አዎ</mat-radio-button>&nbsp;
                                <mat-radio-button value="አይ">አይ</mat-radio-button>
                            </mat-radio-group>
                        </div>
                        <div class="col-sm-3">
                            <mat-form-field>
                                <input matInput [readonly]="!editable" [matDatepicker]="pickerSpBapDa" placeholder="የጥምቀት ቀን" name="spouse_baptized_date"
                                       [(ngModel)]="new_member_spouse_info.baptized_date">
                                <mat-datepicker-toggle matSuffix [for]="pickerSpBapDa"></mat-datepicker-toggle>
                                <mat-datepicker #pickerSpBapDa></mat-datepicker>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="form-label-group">
                        <br>
                        <button mat-raised-button type="button" (click)="addSpouseInfo();"
                                class="btn btn-primary pull-right">መረጃ ያስቀምጡ
                        </button>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
        <div class="col-sm-12">
            <p>
                <small>የልጆች መረጃ ዝርዝር</small>
            </p>
            <mat-accordion>
                <mat-expansion-panel [expanded]="panel3" (opened)="panel3_status(true)"
                                     (closed)="panel3_status(false)">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            የአባላት ልጆች መረጃ
                        </mat-panel-title>
                        <mat-panel-description>
                            የልጆችን መረጃ ለመጨመር እዚህ ጠቅ ያድርጉ
                        </mat-panel-description>
                    </mat-expansion-panel-header>
                    <div class="row">
                        <div class="col-sm-12">
                            <p>
                                <small>የልጆች መረጃ ዝርዝር</small>
                            </p>
                        </div>
                        <div class="col-sm-12">

                            <mat-tab-group>

                                <mat-tab label="ልጅ">
                                    <mat-form-field>
                                        <input matInput placeholder="ሙሉ ስም" name="child_full_name"
                                               [(ngModel)]="new_member_child_info.full_name" required>
                                    </mat-form-field>
                                    <mat-form-field>
                                        <input matInput [readonly]="!editable" [matDatepicker]="pickerchild1" placeholder="የትውልድ ዘመን"
                                               name="child_birthday" [(ngModel)]="new_member_child_info.birthday">
                                        <mat-datepicker-toggle matSuffix [for]="pickerchild1"></mat-datepicker-toggle>
                                        <mat-datepicker #pickerchild1></mat-datepicker>
                                    </mat-form-field>

                                    <mat-form-field>
                                        <mat-select placeholder="ፆታ" name="child_gender" [(ngModel)]="new_member_child_info.gender" required>
                                            <mat-option value="ወንድ">ወንድ</mat-option>
                                            <mat-option value="ሴት">ሴት</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </mat-tab>

                                <mat-tab label="+ ሌላ ልጅ ያክሉ" (click)="clearFiled();">
                                    <mat-form-field>
                                        <input matInput placeholder="ሙሉ ስም" name="child_full_name"
                                               [(ngModel)]="new_member_child_info.full_name" required>
                                    </mat-form-field>
                                    <mat-form-field>
                                        <input matInput [matDatepicker]="pickerchild2" placeholder="የትውልድ ዘመን"
                                               name="child_birthday" [(ngModel)]="new_member_child_info.birthday">
                                        <mat-datepicker-toggle matSuffix [for]="pickerchild2"></mat-datepicker-toggle>
                                        <mat-datepicker #pickerchild2></mat-datepicker>
                                    </mat-form-field>

                                    <mat-form-field>
                                        <mat-select placeholder="ፆታ" name="child_gender" [(ngModel)]="new_member_child_info.gender">
                                            <mat-option value="ወንድ">ወንድ</mat-option>
                                            <mat-option value="ሴት">ሴት</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </mat-tab>
                            </mat-tab-group>

                        </div>

                    </div>
                    <div class="form-label-group">
                        <br>
                        <button mat-raised-button type="button" (click)="addChildInfo();"
                                class="btn btn-primary pull-right">መረጃ አስቀምጥ
                        </button>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
        <div class="col-sm-12">
            <p>
                <small>የቀድሞ የቤተ ክርስቲያን መረጃ ዝርዝር</small>
            </p>
            <mat-accordion>
                <mat-expansion-panel [expanded]="panel4" (opened)="panel4_status(true)"
                                     (closed)="panel4_status(false)">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            የአባል የቀድሞ የቤተ ክርስቲያን መረጃ
                        </mat-panel-title>
                        <mat-panel-description>
                            የአባላት የቀድሞውን የቤተክርስቲያን መረጃ ለማከል እዚህ ጠቅ ያድርጉ
                        </mat-panel-description>
                    </mat-expansion-panel-header>
                    <div class="row">
                        <div class="col-sm-12">
                            <p>
                                <small>የቀድሞ የቤተ ክርስቲያን መረጃ ዝርዝር</small>
                            </p>
                        </div>
                        <div class="col-sm-12">
                            <mat-form-field>
                                <input matInput placeholder="የቤተ ክርስቲያን ስም" name="church_name"
                                       [(ngModel)]="new_member_previous_church_info.church_name" required>
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="የለቀቁበት ምክንያት" name="leaving_reason"
                                       [(ngModel)]="new_member_previous_church_info.leaving_reason" required>
                            </mat-form-field>
                            <mat-radio-group name="was_member" [(ngModel)]="new_member_previous_church_info.was_member">
                                <p>አባል ነበሩ?</p>
                                <mat-radio-button value="አዎ">አዎ</mat-radio-button>&nbsp;
                                <mat-radio-button value="አይ">አይ</mat-radio-button>
                            </mat-radio-group>
                            <mat-form-field>
                                <input matInput placeholder="ቆይታ" name="duration"
                                       [(ngModel)]="new_member_previous_church_info.duration" required>
                            </mat-form-field>
                            <div class="form-label-group">
                                <label>የመሸኛ ደብዳቤ ምስል አያይዝ</label>
                                <input class="form-control" placeholder="የመሸኛ ደብዳቤ ምስል" type="file" name="selected_file" id="selected_file_id" (change)="fileUploadEvent($event)">
                            </div>

                        </div>

                    </div>
                    <div class="form-label-group">
                        <br>
                        <button mat-raised-button type="button" (click)="addPreviousChurchInfo();"
                                class="btn btn-primary pull-right"> መረጃ አስቀምጥ
                        </button>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
    </form>
</mat-dialog-content>

<div class="form-label-group">
    <br>
    <button mat-raised-button type="button" (click)="cancel();" class="btn btn-default pull-right">ዝጋ</button>
    <button mat-raised-button type="button" (click)="editDone();cancel();" class="btn btn-default pull-right">ጨርስ
    </button>
</div>
<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '5px' }"></ngx-loading>